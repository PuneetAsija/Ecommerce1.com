(function(y){var D=window.AmazonUIPageJS||window.P,I=D._namespace||D.attributeErrors,e=I?I("DPTwisterPlusDesktopConfiguratorAssets",""):D;e.guardFatal?e.guardFatal(y)(e,window):e.execute(function(){y(e,window)})})(function(y,D,I){y.when("A","desktop-configurator-view","desktop-configurator-widgets-factory","desktop-configurator-slot-manager","twister-dynamic-style","desktop-configurator-logger","desktop-configurator-dimension-handler","desktop-configurator-side-sheet-view","desktop-configurator-popover-factory",
"twister-js-init-dpx-data","twister-plus-desktop-configurator-mark-render").register("desktop-configurator-view-initialiser",function(e,h,l,q,f,p,v,C,x,k){var w=k?k.inlineTwisterData||{}:{};w.inlineTwisterEnabled&&(p=new p,new h(k,l.Row,q,f,p,v,C,x),!w.shouldDelayRegistrationWithTwisterCore&&e.trigger("desktop-configurator-view-initialized"))});"use strict";y.when("A").register("desktop-configurator-dimension-handler",function(e){function h(e){this.numberOfDimensionsExpandedOnLanding=e.numberOfDimensionsExpanded||
0;this.expandAllDimensions=-1===this.numberOfDimensionsExpandedOnLanding;this.dimensionKeyRowMap={};this.expandedDimensionList=[];this.maxNumberOfDimensionsExpanded=e.maxNumberOfDimensionsExpanded||1}h.prototype={registerDimension:function(e,h){this.dimensionKeyRowMap[e]=h;(this.expandAllDimensions||this.expandedDimensionList.length<this.numberOfDimensionsExpandedOnLanding)&&this.expandedDimensionList.push(e)},init:function(){-1===this.maxNumberOfDimensionsExpanded&&(this.maxNumberOfDimensionsExpanded=
Object.keys(this.dimensionKeyRowMap).length)},expandDimension:function(e){-1===this.expandedDimensionList.indexOf(e)&&this.expandedDimensionList.push(e);if(this.maxNumberOfDimensionsExpanded<this.expandedDimensionList.length)for(var h=0;h<this.expandedDimensionList.length&&(this.expandedDimensionList[h]!==e&&this.dimensionKeyRowMap[this.expandedDimensionList[h]].collapse(),this.maxNumberOfDimensionsExpanded!==this.expandedDimensionList.length);h++);},collapseDimension:function(e){e=this.expandedDimensionList.indexOf(e);
-1!==e&&this.expandedDimensionList.splice(e,1)}};return h});"use strict";y.when("A","desktop-configurator-constants","3p-promise").register("desktop-configurator-view",function(e,h,l){var q=e.$;return function(f,p,v,C,x,k,w,A){function B(){"function"===typeof D.markFeatureInteractive&&D.markFeatureInteractive("twister",{hasComponents:!0,components:[{name:"twister-desktopConfigurator"}]})}function d(){if(!E)return 0===f.unselectedDimCount;var c=u();return!!E.util.getAsinFromSelectionInfo(c)}function b(c,
a,b,d,m,r,u,e,t,f,n,k){return{text:c,image:a||"",popoverImage:b||"",name:d,id:n+"_"+d,selected:m,slotHtm:r,showSlot:u,isVisible:e,unavailable:t,defaultSlotUnavailable:V,isCirclularImageSwatch:g.inlineTwisterData&&"CIRCLE"===g.inlineTwisterData.swatchShape,asin:f,pageUrl:k}}function a(c){W[c]||null===J[c]||(c=g.rows[c],c.toggleSwatch&&c.toggleSwatch.removeMisplacedSwatch())}function m(c,a){var b=Q.unselectedDimensionPrompt||"",d=f&&f.variationDisplayLabels?f.variationDisplayLabels[c]:"",m=f&&f.variationValues?
f.variationValues[c][a]:"";return{dimKey:c,titleSelectorPrefix:"inline-twister-dim-title-",titleValueSelector:"inline-twister-dim-title-value",mainText:d,subText:-1!==a?m:b.replace("###dimension",d||"")}}function u(){if(!E){var c=[];e.each(g.dimList,function(a){c.push({dimKey:a,val:f.selectedVariationValues?f.selectedVariationValues[a]:-1})});return c}return E.state()}function c(){return e.map(g.dimList,function(c,a){if(!g.isSingletonMap[c])return new l(function(d){r(g.rows[c],c,a);d()})})}function r(c,
a,m){var r=g.inlineTwisterData.slotsEnabledDimensions,u=!!((g.dimList.length===r.length?r[m]:r[0])&&d(a));m=f.variationValues[a];var t=c.getInitialVisibleSwatchList(),n=[];e.each(m,function(c,d){c=b(c,X[a+"::"+d],Y[a+"::"+d],d,g.initSelectionState[a].val===d,t[d]?t[d].slotHtm:"",u,t[d]&&t[d].isVisible,t[d]&&t[d].unavailable,I,a,N[a]?N[a][c]:null);n.push(c)});g.swatches[a]=n}function t(){e.each(g.rows,function(c){g.isSingletonMap[c.dimKey]||(c.createDisplaySwatches(),g.textSwatchMap[c.dimKey]&&c.toggleSwatch.alignTextSwatches())})}
function n(){function c(a,d,m){var r,u,t,n=a.expanderContent.find(".inline-twister-swatch:not(.aok-hidden):not(.swatch-prototype)"),k=f.variationValues[d]||[],v=g.inlineTwisterData.inlineVariationsSize,h=-1,z=v,p=[],H=null;-1===v&&(h=parseInt(a.expanderContent.attr("data-swatchCountPerRow"))||n.length,z=h*R[d]);e.each(n,function(c,g){var e=parseInt(c.getAttribute("data-idxInToggleSwatchList")),f="true"===c.getAttribute("data-initiallySelected"),n="true"===c.getAttribute("data-initiallyUnavailable");
r=c.getAttribute("data-asin");u=e;t=k[e]||"";var l,q,G;l=X[d+"::"+u];q=Y[d+"::"+u];G=t;n=b(G,l,q,u,f,"",m,!0,n,r,d,N[d]?N[d][G]:null);a.toggleSwatch&&(l=a.toggleSwatch.createSwatch(n,c),n.isVisible=l.isVisible);p.push(n);f&&g>=z&&(J[d]=e);-1!==v&&-1===h&&(c=c.getBoundingClientRect().top,null===H?H=c:c!==H&&(h=g))});-1!==v&&(-1===h&&(h=n.length),R[d]=Math.ceil(n.length/h));g.inlineVariationsSize[d]=n.length;a.toggleSwatch&&a.toggleSwatch.setNumberOfSwatchesPerRow(h);return p}function r(c,a,b){var m=
!(!c||!d(a)),u=g.rows[a].getInitialVisibleSwatchList();m&&e.each(u,function(d){if(!d.unavailable){var m=A.updateIfCurrentlyActive.bind(A,d.id),m=g.slotManager.get(d.asin,a,g.noOfLoadingIndicator,!1,L,m,b);d.updateSlotNode({showSlot:c,slotHtm:m},!1,a)}})}function t(c,a,d){c={dimIndex:g.dimIndexMap[c],dimValueIndex:a};a=h.DP_STATE_VIEW_SUBTYPE;var b=g.dimensionsMap,m;m=u();for(var r=h.CHAR_UNDERSCORE,e=[],n=0;n<g.dimensionsMap.length;n++){var f=m[n].val;-1===f&&(f=h.CHAR_ASTERISK);e.push(String(f))}m=
r?e.join(r):e;return{divMetadata:c,eventType:d,subType:a,dimensionsMap:b,currDimCombId:m}}var n=u(),k=0,v={},l=g.inlineTwisterData.slotsEnabledDimensions,w=g.inlineTwisterData.popoverSlotsEnabledDimensions;q.each(n,function(c,a){v[a.dimKey]=a;g.dimIndexMap[a.dimKey]=c;g.dimensionsMap[c]=a.dimKey});g.initSelectionState=v;q.each(g.dimList,function(c,a){var d=v[a].val;c=G(a);var d=m(a,d),b=!(!S&&(g.dimList.length===l.length?l[k]:l[0])),e=-1!==T.indexOf(a);g.textSwatchMap[a]=c;c=new p("inline-twister-row-",
d,{showSlot:!1,dimKey:a,inlineTwisterData:g.inlineTwisterData},{handleDimensionExpansion:function(c,d,m){a=c.dimKey;if(m){g.dimensionHandler.expandDimension(a);c=I;m={};U[a]?(m=H(g.swatches[a],d,a,u(),!1,!e,b),g.indexTranslationMap[a]=m,c={swatches:g.swatches[a]}):(r(d,a,b),U[a]=!0);var t=g.rows[a];t.setState(c,m,K,null,!1);z(d,t,a);g.logger.logDimensionExpanded(a);e||(J[a]=null)}else g.dimensionHandler.collapseDimension(a),g.logger.logDimensionCollapsed(a)}},g.logger);g.rows[a]=c;k+=1});0===g.inlineTwisterData.numberOfDimensionsExpanded&&
(B(),Z=!0);k=0;q.each(g.dimList,function(b,m){function r(c,a,d){if(a){var b=parseInt(a.buttonName,10),e=c[b]&&c[b].id?c[b].id:"";m=a.buttonGroupName;c[b]&&c[b].selected&&g.logger.logSelectedSwatchClick();e&&A.exists(e)&&A.hide(e);K=m;c={dimKey:m,val:b};D.newTwisterInteractionStartTime=new Date;g.twister.metaData(t(m,b,h.viewEvents.CLICK));g.twister.dimensionChanged(c);g.logger.logDimensionValueClick();d&&g.logger.logDimValueClickAfterAutoUpdate()}}function n(c,a){var b=a.data,m=a.type;a=a.$currentTarget;
var r=b.id,e=!!d(c),e=M&&e&&B,e=b.showImageInPopOver||e,f=!B,k=[];if(b){if(m===h.viewEvents.MOUSE_ENTER){var v=parseInt(b.name,10);k.push({dimKey:c,val:v});e&&A.show(r,a,b,f)}else e&&A.hide(r),k=u();E&&(g.twister.metaData(t(c,v,m)),g.twister.dimensionPeek(k));K=c}}function v(c,a){var d=parseInt(c.buttonName,10),b=g.swatches[a];(b?b[d]:I)?(F.setUserInteracting(!0),e.delay(function(){r(b,c)},350),g.logger.logSecViewSwatchClick()):y.log("Selected swatch not found on side sheet toggle button click. Value clicked: "+
d+" ; Swatch length: "+g.swatches[a].length,aa.ERROR,aa.ATTRIBUTION)}function p(c,a){g.isSideSheetOpen=a;g.isWindowResizedAfterSideSheetOpen&&!a&&q.each(g.dimList,function(c,a){g.textSwatchMap[a]&&(C(a),(c=g.rows[a])&&c.toggleSwatch&&(c.toggleSwatch.alignTextSwatches(),c.toggleSwatch.alignTextSwatchNodesInLastRow()))});g.isWindowResizedAfterSideSheetOpen=!1}function G(c,d,b){var m=Q.desktopConfiguratorAllOptionsString||"",r=g.swatches[c].length,t={dimensionDisplayText:b.mainText,displayValueText:b.subText,
dimKey:c,getSwatchInfo:F.getSwatch.bind(F),destroyPopover:A.destroy,optionsText:m,totalValueCount:r,isTextSwatch:O};g.sideSheet.open(t);var n={swatches:g.swatches[c]};e.delay(function(){var b=H(g.swatches[c],d,c,u(),!0,!1,P);L&&a(c);F.setState(n,b,K,null,!0,!0);g.sideSheet.update(t);W[c]=!0;e.delay(function(){O&&z(d,F,c,!0);O&&F.toggleSwatch&&r<h.TEXT_ALIGNMENT_LIMIT&&F.toggleSwatch.alignTextSwatches(!1,!0)})},1E3);g.isSideSheetOpen=!0;g.isWindowResizedAfterSideSheetOpen=!1;g.logger.logSeeAllLinkClick("Dimension"+
(g.dimIndexMap[c]+1))}function C(c){E&&(g.isWindowResizedAfterSideSheetOpen=!0,g.isSideSheetOpen||z(g.showSlotMap[c],g.rows[c],c,!1))}var O=g.textSwatchMap[m];b=[];var x=!S&&(g.dimList.length===l.length?l[k]:l[0]),B=g.dimList.length===w.length?w[k]:w[0],P=!x,M=x||B,L=-1!==T.indexOf(m),F=g.rows[m];g.showSlotMap[m]=M;R[m]=g.inlineTwisterData.numOfRowsPerDimension;x=-1!==f.singletonDimensionKeys.indexOf(m);g.isSingletonMap[m]=x;k+=1;!x&&F&&(x=!(!M||!d(m)),J[m]=null,b={name:m,swatches:b,isTextSwatch:O,
onChange:r,onHover:n,hideSlotsFromMainView:P,totalSwatchCount:(f.variationValues[m]||[]).length,preserveNaturalSwatchOrder:L},g.sideSheet.registerToggleButtonGroup(m,v,p),F.initializeComponents(b,M,{showSideSheet:G,handleWindowResize:C}),g.dimensionHandler.registerDimension(m,F),b=c(F,m,x),g.swatches[m]=b)});Z||B()}function G(c){var a=!0;(g.inlineTwisterData.disableImageSwatch===I?0:g.inlineTwisterData.disableImageSwatch)||(a=!g.inlineTwisterData.imageDimensionKeysMap[c]);return a}function H(c,b,
m,r,u,t,n,f){var k=!(!b||!d(m));b=E.util.getDimAvailability(m,r);var v=-1!==T.indexOf(m),h={},z=0,p=A.updateIfCurrentlyActive,l=-1;q.each(r,function(c,a){a.dimKey===m&&(l=a.val)});-1!==l&&(t&&(h[l]=z),z++);var H=g.rows[m];e.each(b.available,function(d){c[d.index]=c[d.index]||{};var b=c[d.index];b.unavailable=!1;b.selected&&(l=d.index,b.isVisible||(null!==J[m]&&c[J[m]]&&(c[J[m]].isVisible=!1,v&&a(m)),J[m]=d.index),b.isVisible=!0);t&&(b.isVisible=z<g.inlineVariationsSize[m]||b.selected);var r=b.isVisible||
u,G=u?b.id+"_sec":b.id;k&&r?b.slotHtm=g.slotManager.get(d.asin,m,g.noOfLoadingIndicator,u,L,p.bind(A,G),n,f):(b.slotHtm=b.slotHtm||"",p(G,b.slotHtm));u&&H&&H.toggleSwatch&&(r=H.toggleSwatch.getSwatch(d.index),e.objectIsEmpty(r)&&(h[d.index]=z));t&&l!==d.index&&(h[d.index]=z);b.showSlot=k;b.selected||z++});e.each(b.unavailable,function(a){c[a.index]=c[a.index]||{};var d=c[a.index];d.unavailable=!0;t&&(d.isVisible=z<g.inlineVariationsSize[m]);d.slotHtm=k?V:"";t&&(h[a.index]=z);d.showSlot=k;z++});U[m]=
!0;v&&(h={});return h}function z(c,a,d,b){var m=g.textSwatchMap[d];c&&m&&(!b||g.isSideSheetOpen)&&(g.slotManager.resetMinSlotHeight(d),c=a.toggleSwatch.getSlotNodes(b),P(c,d,b),g.slotManager.updateSlotHeight(d,b))}function P(c,a,d){g.slotManager.resetSlotHeight(a,d);e.each(c,function(c,d){e.each(c,function(c){g.slotManager.setState(c,a,d)})})}function L(c,a){a&&!g.isSideSheetOpen||z(!0,g.rows[c],c,a)}var g=this,E=I;this.isWindowResizedAfterSideSheetOpen=!1;this.data=f;this.noOfLoadingIndicator=1;
this.dimList=f.reorderedDimensionListKeys||[];this.dimensionsMap=[];this.logger=x;this.inlineTwisterData=f?f.inlineTwisterData||{}:{};this.swatches={};this.sideSheet=new w;var J={},Q=this.inlineTwisterData&&this.inlineTwisterData.stringTranslationMap?this.inlineTwisterData.stringTranslationMap:{},V='\x3cspan class\x3d"a-size-small default-slot-unavailable"\x3e'+(Q.defaultSlotUnavailableString||"")+"\x3c/span\x3e",X=f.imageHashMap||{},Y=f.desktopConfiguratorPopoverImageMap||{},N=f.dimensionPageLoadUrls||
{},R={},S=!!f.isAssemblyVariationsEnabled;this.rows={};this.dimensionHandler=new k(g.inlineTwisterData);this.isSingletonMap={};this.indexTranslationMap={};this.textSwatchMap={};var K,aa=h.loggingConstants;this.initSelectionState={};A.setVisibleSlotConfig(this.inlineTwisterData&&this.inlineTwisterData.desktopConfiguratorSlotsInPopover?this.inlineTwisterData.desktopConfiguratorSlotsInPopover:[]);this.inlineVariationsSize={};this.dimIndexMap={};this.isSideSheetOpen=!1;this.showSlotMap={};var T=g.inlineTwisterData.dimsWithSwatchReorderingDisabled||
[],W={},U={},Z=!1;(function(){var c=g.logger.createFunctionTimerInstance("desktopConfiguratorInitTime");c.start();n();c.stop()})();e.on("register-desktop-configurator-with-twisterCore",function(a,d){E=a;g.logger.registerTwisterCore(E);g.sideSheet.init(g.logger);a=u();var b=g.inlineTwisterData.slotsEnabledDimensions,r=g.inlineTwisterData.popoverSlotsEnabledDimensions,n={};q.each(a,function(c,a){n[a.dimKey]=a});E.slotsDimSum.addDefaultQueryParameter("showFancyPrice",g.inlineTwisterData.showFancyPrice);
E.slotsDimSum.addDefaultQueryParameter("twisterFlavor",h.DESKTOP_CONFIGURATOR_FLAVOR);g.slotManager=new v(E,C,g.logger,g.inlineTwisterData);g.dimensionHandler.init();var f=0;e.each(g.rows,function(c){if(!g.isSingletonMap[c.dimKey]){c.postInitialize();var a=c.dimKey,d=n[a].val,u=G(a),t=g.dimList.length===r.length?r[f]:r[0],k=!S&&(g.dimList.length===b.length?b[f]:b[0]),v=!k,h=k||t;g.twister=E.registerActive({viewAttribution:"DetailPage",viewName:"DesktopConfiguratorRowView_"+a},{updateView:function(b,
r){var t,n={},f;if("VARIATION_CHANGE"===b){t=r.selected().selectionInfo();q.each(t,function(c,a){n[a.dimKey]=a});f=n[a].val;b=g.swatches[a];b[f]=b[f]||{};b[d]=b[d]||{};b[d].selected=!1;b[f].selected=!0;r=m(a,d);d===f||u||c.setThumbnailImage(b[f].image);d=f;H(b,h,a,t,!1,!1,v,h);t=m(a,f);f={swatches:b};var k=e.filter(b,function(c){return c.isVisible});b.length===k.length&&(c.hideSideSheetLink(),g.inlineVariationsSize[a]=b.length);c.setExpanderHeaderAriaLabel(r,t);c.setState(f,{},K,t,!1);z(h,c,a)}else"VARIATION_PEEK"===
b&&(t=r.peek().selectionInfo(),q.each(t,function(c,a){n[a.dimKey]=a}),f=n[a].val,t=m(a,f),K===a&&c.title.setState(t),g.sideSheet.activeDimKey===a&&g.sideSheet.updateDimVal(t))}})}f++});l.all(c()).then(function(){t()});e.trigger("desktop-configurator-twisterCore-initialized",g);d.then(function(){e.each(g.rows,function(c){c.activatePageRefresh()})})})}});"use strict";y.when("A").register("desktop-configurator-constants",function(e){return{AJAX_CALL_TIMEOUT:2E4,DIMENSION_VALUE:"DimensionValue###",DISPLAY_VALUE:"DisplayValue###",
SWATCH_DATA:"SwatchData###",DESKTOP_CONFIGURATOR_FLAVOR:"twisterPlusDesktopConfigurator",MAX_DIMENSION_FLAVOUR_CAP:3,POPOVER_DELAY:500,MAX_INLINE_ROWS:7,SIDE_SHEET_ANIMATION_SPEED:300,SIDE_SHEET_PADDING:32,TEXT_SWATCH_MARGIN_RIGHT:6,CONFIGURED_SLOTS:["price","ms3","twisterPrimeWardrobe","twisterAvailability","deliveryPromise"],SIZE_DIMENSION_NAME:"size_name",DP_STATE_VIEW_SUBTYPE:"DETAILPAGE_STATE_VIEW_METADATA",CHAR_UNDERSCORE:"_",CHAR_ASTERISK:"*",DEFAULT_SCROLLER_WIDTH:20,BORDER_WIDTH:2,TEXT_ALIGNMENT_LIMIT:400,
ABS_PACK_DESCRIPTION_RENDERED:"absPackDescriptionRendered",DEFAULT_TEXT_SWATCH_SPACING:16,DEFAULT_IMAGE_SWATCH_SPACING:8,REDUCED_IMAGE_SWATCH_SPACING:4,viewEvents:{MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",CLICK:"click"},sideSheetSelectors:{EXPANDER_CONTENT_PREFIX:"#inline-twister-expander-content-",SEC_VIEW_DIMENSION_VALUE_LIST:" #tp-inline-twister-dim-values-container",DIMENSION_VALUES_LIST:" .dimension-values-list",DIMENSION_VALUES_LIST_ODD_CHILD:" .dimension-values-list \x3e :nth-child(odd)",
DIMENSION_VALUES_LIST_EVEN_CHILD:" .dimension-values-list \x3e :nth-child(even)",LIST_ITEM_CIRCULAR_IMAGE:".dimension-value-list-item-circular-image",CIRCULAR_IMAGE_SWATCH_BUTTON:".circle-image-swatch-button",LIST_ITEM_SQUARE_IMAGE:".dimension-value-list-item-square-image",SQUARE_IMAGE_SWATCH_BUTTON:".image-swatch-button",TEXT_LIST_ITEM:".swatch-list-item-text",TEXT_SWATCH_BUTTON:".text-swatch-button",TEXT_SWATCH_BUTTON_WITH_SLOTS:".text-swatch-button-with-slots",IMAGE_SELECTOR:".swatch-image",SEC_VIEW_TOGGLE_BUTTON_PREFIX:"sec_",
DELAY:200},widgetSelectors:{EXPANDER_CONTENT_PREFIX:"#inline-twister-expander-content-",EXPANDER_HEADER_PREFIX:"#inline-twister-expander-header-",DIMENSION_EXPANDER_ICON_PREFIX:"#dimension-expander-icon-",DIMENSION_EXPANDER_ICON_WRAPPER:".dimension-expander-icon-wrapper",EXPANDED_DIMENSION_TEXT_PREFIX:"#inline-twister-expanded-dimension-text-",COLLAPSED_DIMENSION_TEXT_PREFIX:"#inline-twister-collapsed-dimension-text-",AUTO_NOTIFICATION_EXPANDED:"#inline-twister-auto-notification-expanded",AUTO_NOTIFICATION_COLLAPSED:"#inline-twister-auto-notification-collapsed",
IMAGE_THUMBNAIL:".dimension-collapsed-image-thumbnail",SWATCH_NODE_SELECTOR:".inline-twister-swatch",SLOT_NODE_SELECTOR:".dimension-slot-info",TOGGLE_BUTTON_SELECTOR:".a-button-toggle",IMAGE_SELECTOR:".swatch-image",DIMENSION_VALUES_LIST:".dimension-values-list"},classes:{A_COLOR_ATTAINABLE:"a-color-attainable",AOK_HIDDEN:"aok-hidden",DIMENSION_EXPANDER_CONTENT_EXPAND:"dimension-expander-content-expand",ROTATE:"rotate",A_BUTTON_UNAVAILABLE:"a-button-unavailable",A_BUTTON_SELECTED:"a-button-selected",
A_BUTTON_FOCUS:"a-button-focus",ROW_IDENTIFIER_PREFIX:"desktop-configurator-dim-row-"},cssConstants:{BG_COLOR:"background-color",GREEN_BG_COLOR:"#D9EED9",WHITE_BG_COLOR:"white"},loggingConstants:{ATTRIBUTION:"TwisterPlusDesktopConfigurator",ERROR:"ERROR"}}});"use strict";y.when("A").register("desktop-configurator-logger",function(e){function h(){if(!(this instanceof h))return new h;f||(f=this);return f}function l(e){if("undefined"!==typeof D.csa){var f=D.csa("Events",{producerId:"dp-rpcx"}),h=p.count(e)||
0;f("log",{schemaId:"dpRpcx.CSALoggingSchema.5",eventName:e,valueToLog:h},{ent:"all"})}}var q=e.$,f,p=D.ue;h.prototype={registerTwisterCore:function(e){this.twisterCore=e},logCSMDataOnLanding:function(){var e=0,f=0,h=0,k=this.twisterCore.util,w=k.tvm.dimensionInfo,A=this.twisterCore.state().length,B=Object.keys(k.tvm.dimCombinations).length;q.each(w,function(d,b){d=b.dimKey;k.isRequiredDim(d)&&h++;k.isSingletonDim(d)?f++:e++});p&&p.count&&(p.count("dpMobileTwisterDropdownPresent",e),l("dpMobileTwisterDropdownPresent"),
p.count("dpMbileTwisterSingletonDim",f),l("dpMbileTwisterSingletonDim"),p.count("dpMobileTwisterRequiredDim",h),l("dpMobileTwisterRequiredDim"),p.count("dpMobileTwisterDimSize",A),l("dpMobileTwisterDimSize"),p.count("dpMobileTwisterFamilySize",B),l("dpMobileTwisterFamilySize"),p.count("twisterPlus.inlineTwisterGV",1),l("twisterPlus.inlineTwisterGV"))},logCSMTagsOnLanding:function(f){function h(c,a,b){var d=[];if(a===b)d.push(""),c=c[a],e.$.isArray(c)?e.each(c,function(c,a){d.push(c)}):d.push(c);else{var m=
Math.floor((a+b)/2);a=h.call(this,c,a,m);var u=h.call(this,c,m+1,b);e.each(a,function(c,a){e.each(u,function(a,b){d.push(""===c?a:""===a?c:c+":"+a)})})}return d}function p(c){c&&l.push(c)}var k=this,l=[],q=!0,B=!0,d=[0,3,8,25,50,100,1E3,5E3],b=Object.keys(this.twisterCore.util.tvm.dimCombinations).length,a,m;f.dimensionList&&(a="variation_dimension:"+f.dimensionList.length,e.each(f.dimensionList,function(c,a){k.addCSMTag(c)}));for(var u=1;u<d.length;u++)if(b<=d[u]){m="family_size_bucket:"+d[u-1]+
"-"+d[u];break}else u===d.length-1&&(m="family_size_bucket:gt"+d[u]);f.dimensionInfo&&e.each(f.dimensionInfo,function(c,a){c.isSingleton||(q=!1)});d=q?"SingletonFamily":"DesktopConfigurator";f.initDimCombination&&e.each(f.initDimCombination,function(c,a){-1===c.val&&(B=!1)});p(a);p(m);p(d);B&&p("defaultSelection");f=h.call(this,l,0,l.length-1);(function(c){var a=this;e.each(c,function(c,b){c&&a.addCSMTag(c)})}).call(this,f)},createFunctionTimerInstance:function(e){var f=this;return{eventType:e,start:function(){this.startTime=
Date.now()},stop:function(){this.startTime&&f.logCounter(this.eventType,Date.now()-this.startTime)}}},addCSMTag:function(e){D.ue&&D.ue.tag&&D.ue.tag(e)},logCounter:function(e,f){p&&p.count&&(f===I?p.count(e,(p.count(e)||0)+1):p.count(e,f),l(e))},logBottomSheetPageUpdate:function(e){this.logCounter("twisterPlus.inlineTwisterPageUpdate")},logSelectedSwatchClick:function(){this.logCounter("twisterPlus.inlineTwister.selectedSwatchClick")},logDimensionValueClick:function(){this.logCounter("dpmobiletwisterclickOndimval")},
logSecViewTotalCount:function(e){this.logCounter("twisterPlus.inlineTwister.secondaryViewCount."+e)},logSecViewGV:function(e){this.logCounter("twisterPlus.inlineTwister.secondaryViewGV."+e)},logSecViewClosed:function(e){this.logCounter("twisterPlus.inlineTwister.secondaryViewClosed."+e)},logDimensionCollapsed:function(e){this.logCounter("twisterPlus.inlineTwister.dimCollapse."+e)},logDimensionExpanded:function(e){this.logCounter("twisterPlus.inlineTwister.dimExpand."+e)},logSecViewSwatchClick:function(){this.logCounter("twisterPlus.inlineTwister.secViewSwatchClick")},
logDimExpansionAfterAutoUpdate:function(){this.logCounter("twisterPlus.inlineTwister.dimExpansionAfterAutoUpdate")},logDimValueClickAfterAutoUpdate:function(){this.logCounter("twisterPlus.inlineTwister.dimValueClickAfterAutoUpdate")},logAvailabilitySlotRender:function(){this.logCounter("twisterPlus.inlineTwister.availabilitySlotRender")},logPPUSlotRender:function(){this.logCounter("twisterPlus.inlineTwister.ppuSlotRender")},logPrimeSlotRender:function(){this.logCounter("twisterPlus.inlineTwister.primeSlotRender")},
logPriceSlotRender:function(){this.logCounter("twisterPlus.inlineTwister.priceSlotRender")},logDeliverySlotRender:function(){this.logCounter("twisterPlus.inlineTwister.deliverySlotRender")},logReviewsSlotRender:function(){this.logCounter("twisterPlus.inlineTwister.reviewsSlotRender")},logSeeAllLinkClick:function(e){this.logCounter("twisterPlus.inlineTwister.seeAllLinkClick."+e)}};return h});"use strict";y.when("A").register("twister-dynamic-style",function(e){function h(e,h){this.name=e;this.styleNode;
this.rules=h||[];this.pendingRefresh}var l=e.$,q={};h.prototype={refresh:function(){var e=l("\x3cdiv /\x3e",{html:"\x26shy;\x3cstyle\x3e"+this.rules.join(" ")+"\x3c/style\x3e"});this.styleNode?(this.styleNode.replaceWith(e),delete this.styleNode,this.styleNode=e):(this.styleNode=e,this.styleNode.appendTo("body"))}};return{addCSSRules:function(e,l){q[e]?q[e].rules=l||[]:q[e]=new h(e,l);q[e].refresh()}}});"use strict";y.when("A","desktop-configurator-constants","desktop-configurator-twister-register",
"3p-promise").register("desktop-configurator-slot-manager",function(e,h,l,q){function f(a,b,d,c){this.twisterCore=a;this.batch={};this.currentBatch;this.maxSlotHeight={};this.minSlotHeight={};this.dynamicStyle=b;this.slotIdentifierMap={};this.logger=d;this.auiPriceSize=c&&c.auiPriceSize?c.auiPriceSize:"m";this.currentlyUnavailableMessage=c&&c.stringTranslationMap?c.stringTranslationMap.currentlyUnavailableMessage:"";this.desktopConfiguratorSlotsInMainView=c&&c.desktopConfiguratorSlotsInMainView?c.desktopConfiguratorSlotsInMainView:
[]}function p(a,b,u,c,r){var f=this.batch,n=this;f[a]=f[a]||[];f[a].push(u);clearTimeout(this.currentBatch);this.currentBatch=setTimeout(function(){var a=e.map(n.batch,function(c,a){return a});n.twisterCore.slotsDimSum.get(a,function(a){var u=n.batch[a.ASIN];u&&(d.each(u,function(c,b){b(a)}),delete n.batch[a.ASIN]);w(n.batch)&&(u=Object.keys(n.maxSlotHeight),e.each(u,function(a){c(a,r&&a===b)}))})},0)}function v(a,b,e,c){e[b]=e[b]||{};e[b].uniqueCount=e[b].uniqueCount||0;var r="inline-twister-dimsum-loading-"+
b+"-"+e[b].uniqueCount;e[b].uniqueCount+=1;return{loadingHtm:'\x3cdiv class\x3d"'+r+(a?" loading-indicator-1":"")+(c?" aok-hidden":"")+'"\x3e\x3cdiv\x3e\x3c/div\x3e\x3c/div\x3e',promise:function(c,a){var b=d("."+r+":not(.loading-indicator-in-popover)").parent();b.length&&(b.html(c),a(b))}}}function y(a){return a.replace(/\n/g,"").replace(/[\t ]+\</g,"\x3c").replace(/\>[\t ]+\</g,"\x3e\x3c").replace(/\>[\t ]+$/g,"\x3e")}function x(a,d,e){return y(b.default.call(this,a.content.twisterSlotDiv,d,e))}
function k(a,b){if(!a||0===a.length)return b;if(0<a.find(".loading-indicator-1").length)return a[0].scrollHeight;if(0===a.find(".defaultSlotUnavailable").length)return b;a=a[0].scrollHeight;b<a&&(b=a);return b}function w(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function A(){var a=B("PageRefresh:ATF"),b=B("PageRefresh:AjaxCallCompletedButCFMarkingNotDone");return[a,b]}function B(a){return new q(function(b,d){e.on(a,function(){b()})})}var d=e.$,b={default:function(a,b,e){a=d("\x3cdiv\x3e"+
a+"\x3c/div\x3e");var c=a.find(".price_slot_ppu"),r=a.find("#ms3slot"),f=a.find("#twisterAvailability"),n=a.find("#deliveryPromisePrefix"),h=a.find(".variationReviewsSection"),k=e?[]:this.desktopConfiguratorSlotsInMainView,p=a.find(".twister_swatch_price");f.length&&((p.length||e)&&-1===k.indexOf("twisterAvailability")&&f.parent().addClass("aok-hidden"),f.parent().append("\x3cdiv class\x3d'js-dummy-twister-availability'\x3e\x3c/div\x3e"),f.parent().find(".a-size-medium").removeClass("a-size-medium").addClass("a-size-small"),
f.parent().find(".a-size-mini").removeClass("a-size-mini").addClass("a-size-small"),f.parent().find(".a-size-large").removeClass("a-size-large").addClass("a-size-small"),b&&this.logger.logAvailabilitySlotRender());0<p.length?(-1===k.indexOf("price")&&p.addClass("aok-hidden"),p.addClass("inline-twister-swatch-price"),e=a.find(".a-price"),0<e.length?e[0].dataset&&(e[0].dataset.aSize=this.auiPriceSize):(p.find(".a-size-small").removeClass("a-size-small").addClass("a-size-base").addClass("a-color-base"),
p.find(".a-size-mini").removeClass("a-size-mini").addClass("a-size-base").addClass("a-color-base"),p.find(".a-size-large").removeClass("a-size-large").addClass("a-size-base").addClass("a-color-base")),e="a-size-small",p.find(".olpWrapper").removeClass("a-size-mini a-size-micro a-size-medium a-size-large a-size-base a-color-base").addClass(e),c.length&&(e="twister-plus-inline-twister-ppu a-size-micro",c.removeClass("a-size-mini a-size-small a-size-medium a-size-large a-size-base a-color-base").addClass(e),
b&&this.logger.logPPUSlotRender()),b&&this.logger.logPriceSlotRender()):(p=a.find("#sndbox-mobile-twister-price"),0<p.length&&b&&this.logger.logPriceSlotRender());r.length&&(r.find(".a-icon-mini").removeClass("a-icon-mini").addClass("a-icon-small"),-1===k.indexOf("ms3")&&r.addClass("aok-hidden"),b&&this.logger.logPrimeSlotRender());0<n.length&&(n.removeClass("a-size-small a-color-secondary").addClass("a-color-base"),-1===k.indexOf("deliveryPromise")&&n.parent().addClass("aok-hidden"),n.find("br").remove(),
c=n.find("b"),0===c.length&&(c=n.find("span")),c.length&&(r=" "+y(c.text()),c.addClass("aok-hidden"),n.append('\x3cspan style\x3d"font-weight: bold;"\x3e'+r+"\x3c/span\x3e")),b&&this.logger.logDeliverySlotRender());0<h.length&&(h.removeClass("a-spacing-micro a-spacing-top-micro").addClass("a-spacing-none a-spacing-top-none"),-1===k.indexOf("variationReviews")&&h.addClass("aok-hidden"),b&&this.logger.logReviewsSlotRender());l.executeModifiers(a);return a.html()}};f.prototype={get:function(a,b,d,c,
e,f,k,h){var l=this,z=this.twisterCore.slotsDimSum.get([a]);if(z[a])return x.call(l,z[a].Value,!1,k);var w=v(d,b,l.slotIdentifierMap,k);h?(d=A.call(this),q.any(d).then(function(){p.call(l,a,b,function(c){w.promise(x.call(l,c.Value,!0,k),f)},e,c)})):p.call(this,a,b,function(c){w.promise(x.call(l,c.Value,!0,k),f)},e,c);return w.loadingHtm},setState:function(a,b,d){this.minSlotHeight[b]||(this.minSlotHeight[b]=[]);this.maxSlotHeight[b]||(this.maxSlotHeight[b]=[]);this.minSlotHeight[b][d]=this.minSlotHeight[b][d]||
0;this.minSlotHeight[b][d]=k(a,this.minSlotHeight[b][d]);this.maxSlotHeight[b][d]=this.maxSlotHeight[b][d]||0;var c=this.maxSlotHeight[b];var e=this.maxSlotHeight[b][d];!a||0===a.length||0<a.find(".loading-indicator-1").length||(a=a[0].scrollHeight,e<a&&(e=a));c[d]=e;this.maxSlotHeight[b][d]=this.maxSlotHeight[b][d]>this.minSlotHeight[b][d]?this.maxSlotHeight[b][d]:this.minSlotHeight[b][d]},updateSlotHeight:function(a,b){var d=[],c;e.each(this.maxSlotHeight[a],function(e,f){b?(d.push("#desktop-configurator-side-sheet #"+
a+"dim_list .desktop-configurator-dim-row-"+f+" .dimension-slot-info {height: "+e+"px;}"),c="twister-plus-desktop-configurator-side-sheet-slot-height-"):(d.push("#inline-twister-expander-content-"+a+" .desktop-configurator-dim-row-"+f+" .dimension-slot-info {height: "+e+"px;}"),c="twister-plus-desktop-configurator-slot-height-")});this.dynamicStyle.addCSSRules(c+a,d)},resetMinSlotHeight:function(a){this.minSlotHeight[a]||(this.minSlotHeight[a]=[]);this.minSlotHeight[a]=e.map(this.minSlotHeight[a],
function(){return 0})},resetSlotHeight:function(a,b){this.maxSlotHeight[a]||(this.maxSlotHeight[a]=[]);this.dynamicStyle.addCSSRules((b?"twister-plus-desktop-configurator-side-sheet-slot-height-":"twister-plus-desktop-configurator-slot-height-")+a,[]);this.maxSlotHeight[a]=e.map(this.maxSlotHeight[a],function(){return 0})}};return f});"use strict";y.when("A","desktop-configurator-constants","detail-page-side-sheet").register("desktop-configurator-side-sheet-view",function(e,h,l){function q(){this.sideSheetData=
this.activeDimKey=null;this.swatchList=[];this.mainViewDimContainer=this.keyDownEventHandler=this.dimValContainer=null;this.updateSideSheetStatus={}}function f(){this.sideSheetData=this.activeDimKey=null;this.swatchList=[];this.mainViewDimContainer=this.keyDownEventHandler=this.dimValContainer=null}function p(d,b){e.each(d,function(a){var d="desktop-configurator-swatch-hover:"+b+"_sec";try{e.declarative.remove(a,d),e.declarative.create(a,d,{})}catch(f){y.log("Hover event subscribe failed with error: "+
this.name,B.ERROR,B.ATTRIBUTION)}})}function v(d){d=Array.prototype.slice.call(d);var b=w(d[0]).find("input");d=w(d[d.length-1]).find("input");this.keyDownEventHandler=x.bind(this,b,d);document&&document.addEventListener("keydown",this.keyDownEventHandler);e.delay(function(){b&&b.focus()})}function C(){if(this.mainViewDimContainer){var d=this.mainViewDimContainer.parent().find(".tp-side-sheet-link-container a")[0];document&&document.removeEventListener("keydown",this.keyDownEventHandler);d&&d.focus()}}
function x(d,b,a){a.code&&"tab"===a.code.toLowerCase()&&(a.shiftKey?document&&document.activeElement===d[0]&&(a.preventDefault(),b.focus()):document&&document.activeElement===b[0]&&(a.preventDefault(),d.focus()))}function k(d){var b=w("#desktop-configurator-side-sheet-content-header").clone();b.removeClass("aok-hidden");b.find(".dim-name").text(d.dimensionDisplayText+":");b.find(".dim-value").text(d.displayValueText);var a=d.optionsText;a&&b.find(".dim-options").text(a.replace("###options",d.totalValueCount));
return b}var w=e.$,A=h.sideSheetSelectors,B=h.loggingConstants;q.prototype={init:function(d){var b=this,a=w("#twister-plus-inline-twister-container");0!==a.length&&(a=a[0].getBoundingClientRect().width,this.scrollbarWidth=this.getScrollbarWidth(),this.sideSheet=new l({id:"desktop-configurator-side-sheet",shouldRenderHTMLString:!0,animationDuration:h.SIDE_SHEET_ANIMATION_SPEED,width:a+h.SIDE_SHEET_PADDING+b.scrollbarWidth,onAfterHide:function(){d.logSecViewClosed(b.activeDimKey);e.each(b.swatchList,
function(a){var d=parseInt(a.getAttribute("data-idxInToggleSwatchList"),10),d=b.sideSheetData.getSwatchInfo(d);e.declarative.remove(a,"desktop-configurator-swatch-hover:"+b.activeDimKey+"_sec");b.sideSheetData.destroyPopover(d.id+"_sec")});C.call(b);b.updateSideSheetStatus[b.activeDimKey]&&b.updateSideSheetStatus[b.activeDimKey](b.activeDimKey,!1);f.call(b)}}))},open:function(d){this.activeDimKey=d.dimKey;this.sideSheetData=d;var b=w("#inline-twister-row-"+d.dimKey+" #tp-inline-twister-dim-values-container").find(".desktop-configurator-dim-row-0"),
a=w("#side-sheet-loader-container").clone().removeClass("aok-hidden"),m=a.find(".loader-container"),f=a.find("#side-sheet-loader").clone().removeClass("aok-hidden"),c,r,t=h.DEFAULT_TEXT_SWATCH_SPACING;d.isTextSwatch?(c=b.width()-h.BORDER_WIDTH,r=b.height()-h.BORDER_WIDTH):(r=b.find(".swatch-image-container"),t=0<r.closest(".reduced-image-swatch-margin").length,c=r.outerWidth(),r=r.outerHeight(),t=t?h.REDUCED_IMAGE_SWATCH_SPACING:h.DEFAULT_IMAGE_SWATCH_SPACING,f.css({marginLeft:t/2+"px",marginRight:t/
2+"px"}));f.width(c);f.height(r);e.each(b,function(){m.append(f.clone().addClass("side-sheet-loader-1"))});c=m.clone();c.find(".side-sheet-loader-1").removeClass("side-sheet-loader-1").addClass("side-sheet-loader-2");a.append(c);d=k(d);a.prepend(d);a=a[0].outerHTML;this.sideSheet.updateWidth(this.getWidth(b,t));this.sideSheet.open(a)},update:function(d){this.mainViewDimContainer=w("#inline-twister-row-"+d.dimKey+" #tp-inline-twister-dim-values-container");var b=this.mainViewDimContainer.clone(),a=
b.find(A.DIMENSION_VALUES_LIST);a.attr("id",d.dimKey+"dim_list");var e=k(d);b.prepend(e);a.children().slice(1).removeClass("aok-hidden");a.attr("data-a-button-group",'{"name":"sec_'+d.dimKey+'"}');this.sideSheet.updateContent(b[0].outerHTML);d=this.sideSheet.container;this.swatchList=d.find(A.DIMENSION_VALUES_LIST).children().slice(1);p(this.swatchList,this.activeDimKey);this.dimValContainer=d.find(".desktop-configurator-side-sheet-content-header .dim-value");v.call(this,this.swatchList)},close:function(){this.sideSheet.close()},
registerToggleButtonGroup:function(d,b,a){var m=A.SEC_VIEW_TOGGLE_BUTTON_PREFIX+d,f=this;this.updateSideSheetStatus[d]=a;e.on("a:button-group:"+m+":toggle",function(c){f.sideSheet.close();c.selectedButton.buttonGroupName=d;b(c.selectedButton,d)})},updateDimVal:function(d){this.dimValContainer&&this.dimValContainer.length&&this.dimValContainer.text(d.subText)},getScrollbarWidth:function(){if(this.scrollbarWidth)return this.scrollbarWidth;var d=document.body?D.innerWidth-document.body.clientWidth:-1;
0>d&&(d=h.DEFAULT_SCROLLER_WIDTH);return d},getWidth:function(d,b){var a=0;e.each(d,function(d){a+=d.getBoundingClientRect().width+b});return a+h.SIDE_SHEET_PADDING+this.scrollbarWidth}};return q});"use strict";y.when("A","a-popover","desktop-configurator-constants").register("desktop-configurator-popover-factory",function(e,h,l){function q(c){var a=x("\x3cdiv /\x3e"),b=x("\x3cspan /\x3e"),d=c.title,e=c.showImageInPopOver,m=!c.hideSlots;a.addClass("desktop-configurator-popover-content");b.addClass("desktop-configurator-title-block a-size-base a-color-base a-text-bold");
b.text(d);a.append(b);e&&(b=x("\x3cdiv /\x3e"),e=x("\x3cimg /\x3e"),e.attr("src",c.image),e.attr("data-a-image-source",c.image),e.attr("alt",d),b.append(e),a.addClass("visual-dimension"),b.addClass("desktop-configurator-image-block"),a.prepend(b));m&&f(a,c.slotNode);return a}function f(c,a){a="string"===typeof a?a:a.clone();var b=x("\x3cdiv /\x3e");c.find(".desktop-configurator-slot-block").remove();b.addClass("desktop-configurator-slot-block");b.html(a);p(b);c.append(b)}function p(c){var b=c.find(".price_slot_ppu"),
d=c.find("#ms3slot"),f=c.find(".twister_swatch_price"),k=c.find("#twisterAvailability"),h=c.find("#deliveryPromisePrefix"),l=c.find(".variationReviewsSection"),p=c.find(".default-slot-unavailable"),q=c.find(".loading-indicator-1");c=c.find(".twisterPrimeWardrobe");var g={variationReviews:l,price:f,ms3:d,twisterAvailability:k.parent(),deliveryPromise:h.parent(),ppu:b,twisterPrimeWardrobe:c};q.length&&(q.addClass("loading-indicator-in-popover"),0===a.length?q.addClass("aok-hidden"):q.removeClass("aok-hidden"));
e.each(m,function(c){g[c]&&(-1===a.indexOf(c)?g[c].addClass("aok-hidden"):(g[c].removeClass("aok-hidden"),c=u[c+"_styleSlot"],"function"===typeof c&&c.call(this,g)))});p.length&&p.removeClass("a-size-small").addClass("a-size-base")}function v(c,a,b,d){b=q({slotNode:b.slotNode,title:b.title,showImageInPopOver:b.showImageInPopOver,image:b.image,hideSlots:d});a=h.create(a,{name:c,inlineContent:b,closeButton:!1,padding:"none",activate:"none",restoreFocusOnHide:!1});k[c]=a;w[c]||(e.on("a:popover:afterShow:"+
c,function(c){e.delay(function(){x(B.DIMENSION_VALUES_LIST).removeClass("stop-scrolling-dc")})}),w[c]=!0);return a}function y(c,a,b){if(c=k[c])a=q({slotNode:a.slotNode,title:a.title,showImageInPopOver:a.showImageInPopOver,image:a.image,hideSlots:b}),c.update({content:a});return c}var x=e.$,k={},w={},A=l.POPOVER_DELAY,B=l.sideSheetSelectors,d=null,b=null,a=[],m=l.CONFIGURED_SLOTS,u={price_styleSlot:function(a){var b=a.ppu;a=a.price;a.length&&(a.find(".a-size-base").removeClass("a-size-base").addClass("a-size-large"),
b.length&&b.removeClass("a-size-micro").addClass("a-size-small"))},ms3_styleSlot:function(a){a=a.ms3;a.length&&a.find(".a-icon-mini").removeClass("a-icon-mini").addClass("a-icon-small")},twisterAvailability_styleSlot:function(a){var b=a.twisterAvailability;b.length&&(a=a.ms3,b.find(".a-size-small").removeClass("a-size-small").addClass("a-size-base"),a.length&&a.after(b))},deliveryPromise_styleSlot:function(a){a=a.deliveryPromise;a.length&&a.addClass("a-size-base")}};return{show:function(a,m,f,k){d=
this.exists(a)?y.call(this,a,f,k):v.call(this,a,m,f,k);clearTimeout(b);var h=this;b=e.delay(function(){x(B.DIMENSION_VALUES_LIST).addClass("stop-scrolling-dc");d&&d.show();h.updateIfCurrentlyActive(a,f.slotNode)},A)},exists:function(a){return!!k[a]},hide:function(a){(a=k[a])&&a.hide();d=null;clearTimeout(b)},updateIfCurrentlyActive:function(a,b){d&&d.$container&&d.attributes.name===a&&(a=d.$container.find(".desktop-configurator-popover-content"),f(a,b))},destroy:function(a){k[a]&&h.remove(a);delete k[a];
clearTimeout(b)},setVisibleSlotConfig:function(c){a=c}}});"use strict";y.when("A").register("desktop-configurator-twister-register",function(){var e=[];return{registerModifier:function(h){e.push(h)},executeModifiers:function(h){e.forEach(function(e){e.modify&&"function"===typeof e.modify&&e.modify(h)})}}});"use strict";y.when("A","desktop-configurator-constants").register("desktop-configurator-widgets-factory",function(e,h){var l=e.$,q=h.widgetSelectors,f=h.classes,p=h.cssConstants,v=h.loggingConstants;
h=function(){function f(){var d=l(q.IMAGE_THUMBNAIL).attr("src");return d&&d.length&&(d=d.split("."),2<d.length)?d[d.length-2]:!1}function k(d,b,a,e){e=e&&0<e.length?e:d.find(".a-button");b&&!a?(e.addClass("text-swatch-button-with-slots").removeClass("text-swatch-button"),d.find("hr").show(),d.find("hr").removeClass("aok-hidden")):(e.removeClass("text-swatch-button-with-slots").addClass("text-swatch-button"),d.find("hr").hide(),d.find("hr").addClass("aok-hidden"))}return{alignTextSwatches:function(d,
b,a){var f=0,k,c;e.each(d,function(d){d.domNode&&(d.isVisible||b||a)&&(k=d.domNode.attr("data-idxInToggleSwatchList"),c=a?l("#desktop-configurator-side-sheet").find("[data-idxInToggleSwatchList\x3d"+k+"]"):d.domNode,d=c.find(".swatch-title-text-display"),d.length&&d[0].style.removeProperty("height"),d=d?d.height():0,f<d&&(f=d))});e.each(d,function(d){d.domNode&&(d.isVisible||b||a)&&(k=d.domNode.attr("data-idxInToggleSwatchList"),c=a?l("#desktop-configurator-side-sheet").find("[data-idxInToggleSwatchList\x3d"+
k+"]"):d.domNode,c.find(".swatch-title-text-display").height(f))})},createSwatch:function(d,b,a,e,f,c,h){var p=!b.unavailable,n=b.isVisible,l=b.selected,q=b.showSlot,z=b.slotHtm;a="#"+a;if(c.length)return c=c.clone(),c.removeClass("swatch-prototype"),f&&c.addClass("slots-hidden"),c.attr("data-idxInToggleSwatchList",e),e=c.find(a).attr("id",b.id),c.find(a+"-announce").attr("id",b.id+"-announce"),c.find("input").attr({name:b.name,"aria-labelledby":b.id+"-announce"}),c.find("text"===d?".swatch-title-text-display":
"square_image"===d?".swatch-title-text":".swatch-text").text(b.text),p||e.addClass("a-button-unavailable"),l&&e.addClass("a-button-selected"),"text"!==d&&(l=c.find(".swatch-image"),l.addClass("inline-twister-manual-load"),l.attr({"data-a-image-source":b.image||"",id:"inline-twister-image-"+b.name,alt:b.text})),l=c.find(".dimension-slot-info"),l.length&&(l.attr("id","dimension-slot-info-"+b.name),q?p?0<z.length&&l.html(z):l.html(b.defaultSlotUnavailable):c.find("text"===d?".slots-padding":".dimension-slot-info").addClass("aok-hidden"),
"text"===d&&k(c,q,f,e)),h.append(c),n||c.addClass("aok-hidden"),c},getThumbnailImageUrlForPhysicalId:function(d){return d&&d.length&&(d=d.split("."),2<d.length)?(d.splice(-2,1,f()),d.join(".")):!1},updateSlotSectionInTextSwatch:k}}();var C=function(k){function h(d,b,a,e,f,c,r,p){this.id=d.id;this.unavailable=!!d.unavailable;this.selected=!!d.selected;this.showSlot=d.showSlot;this.slotHtm=d.slotHtm;this.isImageSwatch=!b;this.asin=d.asin;this.pageUrl=d.pageUrl;this.hideSlotsFromMainView=f;var n=b?"text":
d.isCirclularImageSwatch?"circular_image":"square_image";this.domNode=p?l(p):k.createSwatch(n,d,a,e,f,c,r);this.isVisible=d.isVisible;this.imageUrl=d.image;this.popoverImage=d.popoverImage;this.isSlotVisible=!0;this.slotNodeIdentifier=b?".slots-padding":".dimension-slot-info";this.title=d.text;this.name=d.name;this.subscribeToHoverEvent(a)}h.prototype={setState:function(d,b,a,e){this.selected=!!d.selected;this.updateAvailablity(d);this.updateSlotNode(d,b,a);this.updateVisibility(d);this.updateSwatchIndexInDomNode(e);
return this},getSlotNode:function(d){this.slotNode||(this.slotNode=this.domNode.find(q.SLOT_NODE_SELECTOR));if(!d)return this.slotNode;d=this.slotNode?this.slotNode.attr("id"):"";return l("#desktop-configurator-side-sheet").find("#"+d)},updateSlotNode:function(d,b,a){this.slotNode||(this.slotNode=this.domNode.find(q.SLOT_NODE_SELECTOR));this.showSlot!==d.showSlot&&((this.showSlot=d.showSlot)?this.domNode.find(this.slotNodeIdentifier).removeClass("aok-hidden"):this.domNode.find(this.slotNodeIdentifier).addClass("aok-hidden"),
this.isImageSwatch||k.updateSlotSectionInTextSwatch(this.domNode,this.showSlot,this.hideSlotsFromMainView));this.slotHtm!==d.slotHtm&&(b&&l("#tp-inline-twister-sec-view-"+a+" #"+this.slotNode.attr("id")).html(d.slotHtm),this.slotNode.html(d.slotHtm),this.slotHtm=d.slotHtm)},updateAvailablity:function(d){this.toggleButton||(this.toggleButton=this.domNode.find(q.TOGGLE_BUTTON_SELECTOR));(this.unavailable=d.unavailable)?this.toggleButton.addClass(f.A_BUTTON_UNAVAILABLE):this.toggleButton.removeClass(f.A_BUTTON_UNAVAILABLE)},
updateSelection:function(){this.toggleButton||(this.toggleButton=this.domNode.find(q.TOGGLE_BUTTON_SELECTOR));this.selected?(this.toggleButton.addClass(f.A_BUTTON_SELECTED),this.toggleButton.removeClass(f.A_BUTTON_UNAVAILABLE)):(this.toggleButton.removeClass(f.A_BUTTON_SELECTED),this.toggleButton.removeClass(f.A_BUTTON_FOCUS))},updateVisibility:function(d){d.isVisible?this.domNode.removeClass(f.AOK_HIDDEN):this.domNode.addClass(f.AOK_HIDDEN);this.isVisible=d.isVisible},subscribeToHoverEvent:function(d){d=
"desktop-configurator-swatch-hover:"+d;try{e.declarative.remove(this.domNode,d),e.declarative.create(this.domNode,d,{})}catch(b){y.log("Hover event subscribe failed with error: "+this.name,v.ERROR,v.ATTRIBUTION)}},updateSwatchIndexInDomNode:function(d){this.domNode&&this.domNode.attr("data-idxInToggleSwatchList",d)},getTopPosition:function(){var d=this.domNode.position();return this.topPosition=d?d.top:0}};return h}(h),x=function(k,h){function d(b,a,d,f){var c=this;this.isTextSwatch=b.isTextSwatch;
this.name=b.name;this.domNode=l(q.EXPANDER_CONTENT_PREFIX+b.name);this.title=f;this.selectedSwatch=null;this.swatches={};this.orderedSwatchList=[];this.initialVisibleSwatchList={};this.swatchIdxOrder=[];this.isPageRefreshActive=!1;this.totalSwatchCount=b.totalSwatchCount||0;this.onChange=b.onChange;this.hoverHandler=b.onHover;this.isUserInteracting=!1;this.autoNotificationCallback=a.autoNotificationCallback;this.rowContainer=d;this.swatchListContainer=this.domNode.find(q.DIMENSION_VALUES_LIST);this.markAutoUpdated=
!1;this.hideSlotsFromMainView=b.hideSlotsFromMainView;this.windowResizeCallback=a.windowResizeCallback;this.preserveNaturalSwatchOrder=b.preserveNaturalSwatchOrder;this.displaySwatches=[];this.numberOfSwatchesPerRow=0;this.swatchPrototypeNode=l("#"+b.name).closest(q.SWATCH_NODE_SELECTOR);this.swatchPrototypeNodeParent=this.swatchPrototypeNode.parent();e.on("a:button-group:"+this.name+":toggle",function(a){var b=parseInt(a.selectedButton.buttonName,10),d=c.swatches[b];d?c.isPageRefreshActive?(c.isUserInteracting=
!0,b=d.unavailable,d.updateSelection(),c.autoNotificationCallback&&c.autoNotificationCallback(b,!0),c.onChange&&c.onChange(c.swatches,a.selectedButton,c.markAutoUpdated),c.setAutoUpdated(!1)):d.pageUrl&&(D.location.href=d.pageUrl):(a="Selected swatch not found on toggle button click. Value clicked: "+b+" ; Swatch length: "+Object.keys(c.swatches).length,y.log(a,v.ERROR,v.ATTRIBUTION))});this.registerHoverDeclarative("desktop-configurator-swatch-hover:"+b.name);this.registerHoverDeclarative("desktop-configurator-swatch-hover:"+
b.name+"_sec",!0);if(this.isTextSwatch)e.on("resize",function(){0<c.displaySwatches.length&&(c.repopulateDisplaySwatches(),c.alignTextSwatches(),c.alignTextSwatchNodesInLastRow(),"function"===typeof c.windowResizeCallback&&c.windowResizeCallback(c.name))})}d.prototype={setState:function(b,a,d,f){var c=this,k,l=[],p=[],q=[];e.objectIsEmpty(a)||(e.each(a,function(a,e){if(!c.swatches[e]&&(b.swatches[e].isVisible||d)){var f=new h(b.swatches[e],c.isTextSwatch,c.name,e,c.hideSlotsFromMainView,c.swatchPrototypeNode,
c.swatchPrototypeNodeParent);f.subscribeToHoverEvent(c.name);c.swatches[e]=f;!c.isTextSwatch&&c.swatches[e]&&c.swatches[e].domNode&&q.push(c.swatches[e].domNode.find(".inline-twister-manual-load")[0])}p[a]=e}),this.swatchIdxOrder=p,f||(this.resetToggleSwatchContainer(),this.displaySwatches=[]),e.each(this.swatchIdxOrder,function(a,b){if(a=c.swatches[a])a&&c.swatchListContainer.append(a.domNode),a&&a.subscribeToHoverEvent(c.name),c.addToDisplaySwatches(a,c.displaySwatches)}));e.each(b.swatches,function(a,
b){if(c.swatches[b])k=a.selected?c.swatches[b]:k,c.swatches[b].selected=!!a.selected,l.push({index:b,data:a});else{if(a.isVisible||d)c.swatches[b]=new h(a,c.isTextSwatch,c.name,b,c.hideSlotsFromMainView,c.swatchPrototypeNode,c.swatchPrototypeNodeParent),c.swatches[b].subscribeToHoverEvent(c.name),c.addToDisplaySwatches(c.swatches[b],c.displaySwatches),!c.isTextSwatch&&c.swatches[b]&&c.swatches[b].domNode&&q.push(c.swatches[b].domNode.find(".inline-twister-manual-load")[0]);a.selected&&(k=c.swatches[b])}});
this.selectedSwatch&&this.selectedSwatch.updateSelection();k&&k.updateSelection();e.each(l,function(a,b){c.swatches[a.index].setState(a.data,d,c.name,a.index)});this.isTextSwatch&&(e.objectIsEmpty(a)?this.alignTextSwatchNodesInLastRow():this.alignTextSwatches());c.selectedSwatch&&k&&c.selectedSwatch!==k&&!c.isUserInteracting&&c.autoNotificationCallback(!0);c.selectedSwatch=k;c.isUserInteracting=!1;q.length&&e.loadImageManually(q);return this},getSlotNodes:function(b){return e.map(this.displaySwatches,
function(a){return e.map(a,function(a){return a.getSlotNode(b)})})},setUserInteracting:function(b){this.isUserInteracting=b},alignTextSwatches:function(b,a){e.each(this.displaySwatches,function(d){k.alignTextSwatches(d,b,a)})},alignTextSwatchNodesInLastRow:function(){var b=this.domNode.find(".inline-twister-swatch:not(.aok-hidden):not(.swatch-prototype)");if(1<b.length){var a=b[b.length-1],d=b[b.length-2];a&&d&&a.getBoundingClientRect().top===d.getBoundingClientRect().top&&(b=e.map(b.slice(b.length-
(b.length%this.numberOfSwatchesPerRow||this.numberOfSwatchesPerRow),b.length),function(a){return this.swatches[a.getAttribute("data-idxInToggleSwatchList")]},this),k.alignTextSwatches(b))}},resetToggleSwatchContainer:function(){var b=l(this.domNode.find(".a-button-list").children()[0]);this.swatchListContainer.html("");this.swatchListContainer.append(b)},getVisibleSwatchesSize:function(){var b=0;e.each(this.swatches,function(a,d){a.isVisible&&(b+=1)});return b},setAutoUpdated:function(b){this.markAutoUpdated=
b},getInitialVisibleSwatchList:function(){return this.initialVisibleSwatchList},getNumberOfSwatchesPerRow:function(){return this.numberOfSwatchesPerRow},setNumberOfSwatchesPerRow:function(b){b&&(this.numberOfSwatchesPerRow=b)},createSwatch:function(b,a){a=new h(b,this.isTextSwatch,this.name,b.name,this.hideSlotsFromMainView,this.swatchPrototypeNode,this.swatchPrototypeNodeParent,a);this.swatches[b.name]=a;this.initialVisibleSwatchList[b.name]=a;this.selectedSwatch=b.selected?a:this.selectedSwatch;
this.orderedSwatchList.push(a);return a},activatePageRefresh:function(){this.isPageRefreshActive=!0;this.domNode.find(".page-load-link").remove()},getSwatch:function(b){return this.swatches[b]?this.swatches[b]:{}},registerHoverDeclarative:function(b,a){var d=this;e.declarative(b,"mouseenter mouseleave",function(b){var c=b.$currentTarget[0].getAttribute("data-idxInToggleSwatchList"),c=d.getSwatch(c);b.data={slotNode:b.$currentTarget.find(c.slotNodeIdentifier),showImageInPopOver:c.isImageSwatch&&!!c.popoverImage,
unavailable:c.unavailable,showSlot:c.showSlot,selected:c.selected,title:c.title,name:c.name,id:a?c.id+"_sec":c.id,image:c.popoverImage};d.hoverHandler(d.name,b)})},addToDisplaySwatches:function(b,a){var d=f.ROW_IDENTIFIER_PREFIX;if(0===a.length)a.push([b]);else{var e=a[a.length-1];e&&e.length===this.numberOfSwatchesPerRow?a.push([b]):e.push(b)}this.removeSwatchRowIdentifier(b);b.domNode&&b.domNode.addClass(d+(a.length-1).toString())},repopulateDisplaySwatches:function(){if(0!==this.displaySwatches.length){var b=
[],a=0,d,k=this;e.each(this.displaySwatches,function(c,h){e.each(c,function(c,e){0===b.length?b.push([c]):0===a?(d=b[0][b[0].length-1],c.getTopPosition()!==d.getTopPosition()?(a=b[0].length,k.numberOfSwatchesPerRow=a,k.addToDisplaySwatches(c,b)):(b[0].push(c),k.removeSwatchRowIdentifier(c),c.domNode&&c.domNode.addClass(f.ROW_IDENTIFIER_PREFIX+(0).toString()))):k.addToDisplaySwatches(c,b)})});0===a&&(this.numberOfSwatchesPerRow=a=b[0].length);this.displaySwatches=b}},removeSwatchRowIdentifier:function(b){b.domNode&&
b.domNode.removeClass(function(a,b){return(b.match(/(^|\s)desktop-configurator-dim-row-\S+/g)||[]).join(" ")})},createDisplaySwatches:function(){var b=this;e.each(this.orderedSwatchList,function(a){b.addToDisplaySwatches(a,b.displaySwatches)})},removeMisplacedSwatch:function(){var b=this.displaySwatches[this.displaySwatches.length-1],a=b[b.length-1],d=a.name;a.domNode&&a.domNode.remove();delete this.swatches[d];this.selectedSwatch&&this.selectedSwatch.name===d&&(this.selectedSwatch=null);1<b.length?
b.pop():this.displaySwatches.pop()},removeInitiallyHiddenSwatches:function(){for(var b=this.domNode.find(".inline-twister-swatch.aok-hidden:not(.swatch-prototype)"),a=b.length-1;0<=a;a--){var d=b[a];d.parentNode.removeChild(d)}}};return d}(h,C),k=function(f){function k(d){this.mainText=d.mainText;this.subText=d.subText;this.dimKey=d.dimKey;this.titleSelectorPrefix=d.titleSelectorPrefix;this.titleValueSelector=d.titleValueSelector;this.domNode=l("#"+this.titleSelectorPrefix+this.dimKey)}k.prototype=
{refresh:function(){this.domNode.find("."+this.titleValueSelector).text(this.subText);this.domNode.removeClass("twister-plus-inline-twister-dim-required twister-plus-inline-twister-dim-required-delay")},setState:function(d){return e.equals(d,l.extend({},this))?this:(l.extend(this,d),this.refresh())},getData:function(){return{mainText:this.mainText,subText:this.subText}}};return k}(h),w=function(k,h,d){function b(a,b,d,c,k){function t(){w=w||n.domNode.find(".dimension-heading");w.css(p.BG_COLOR,p.GREEN_BG_COLOR);
e.delay(function(){e.animate(w,{"background-color":p.WHITE_BG_COLOR},200)},1E3)}var n=this;this.disableCollapseFunctionality=d.inlineTwisterData?d.inlineTwisterData.disableCollapseFunctionality:!1;this.stringTranslationMap=d.inlineTwisterData?d.inlineTwisterData.stringTranslationMap:{};this.title=b?new h(b):null;this.dimKey=d.dimKey;this.domNode=l("#"+a+this.dimKey);this.showSlot=d.showSlot;this.logger=k;this.isTwisterCoreInitialized=this.markAutoUpdated=!1;this.expanderContent=n.domNode.find(q.EXPANDER_CONTENT_PREFIX+
this.dimKey);this.expanderHeader=n.domNode.find(q.EXPANDER_HEADER_PREFIX+this.dimKey);this.icon=n.domNode.find(q.DIMENSION_EXPANDER_ICON_PREFIX+this.dimKey);this.expandedText=n.domNode.find(q.EXPANDED_DIMENSION_TEXT_PREFIX+this.dimKey);this.collapsedText=n.domNode.find(q.COLLAPSED_DIMENSION_TEXT_PREFIX+this.dimKey);this.rowCallbacks=c;this.autoNotificationExpanded=n.domNode.find(q.AUTO_NOTIFICATION_EXPANDED);this.autoNotificationExpandedText=n.autoNotificationExpanded.text();this.imageThumbnail=n.domNode.find(q.IMAGE_THUMBNAIL);
this.sideSheetLink=this.domNode.find(".tp-side-sheet-link-container");this.isExpanded=this.expanderContent.hasClass("dimension-expander-content-expand");var w;this.autoNotificationCallback=function(a,b){var c=n.autoNotificationExpandedText;a?n.isExpanded&&b?(n.autoNotificationExpanded.find("."+f.A_COLOR_ATTAINABLE).html(c),n.autoNotificationExpanded.removeClass(f.AOK_HIDDEN)):(t(),n.setAutoUpdated(!0)):n.hideAutoNotification()};this.disableCollapseFunctionality||e.declarative("toggle-dimension-expander-"+
this.dimKey,"click",function(a){n.isExpanded?n.collapse():n.expand();n.hideAutoNotification()})}b.prototype={setState:function(a,b,d,c,e,k){this.toggleSwatch&&d!==this.dimKey&&this.autoNotificationExpanded.addClass(f.AOK_HIDDEN);a&&this.toggleSwatch&&this.toggleSwatch.setState(a,b,e,k);e||c&&this.title&&this.title.setState(c)},expand:function(){this.expanderContent&&this.expanderContent.css("visibility","");this.expanderContent&&this.expanderContent.addClass(f.DIMENSION_EXPANDER_CONTENT_EXPAND);this.icon&&
this.icon.addClass(f.ROTATE);this.expandedText&&this.expandedText.removeClass(f.AOK_HIDDEN);this.collapsedText&&this.collapsedText.addClass(f.AOK_HIDDEN);this.imageThumbnail.addClass(f.AOK_HIDDEN);this.isExpanded=!0;var a={dimKey:this.dimKey};"function"===typeof this.rowCallbacks.handleDimensionExpansion&&this.isTwisterCoreInitialized&&this.rowCallbacks.handleDimensionExpansion(a,this.showSlot,!0);if(this.expanderHeader){var a=this.stringTranslationMap?this.stringTranslationMap.expanderHeaderAriaLabel:
"",b=this.title.getData(),a=a.replace("###dimension",b.mainText).replace("###value",b.subText),a=a+" "+(this.stringTranslationMap?this.stringTranslationMap.tapToCollapse:"");this.expanderHeader.attr("aria-label",a);this.expanderHeader.find(q.DIMENSION_EXPANDER_ICON_WRAPPER).attr("aria-label",a)}this.markAutoUpdated&&(this.logger.logDimExpansionAfterAutoUpdate(),this.markAutoUpdated=!1)},collapse:function(){this.expanderContent&&this.expanderContent.removeClass(f.DIMENSION_EXPANDER_CONTENT_EXPAND);
this.expanderContent&&this.expanderContent.css("visibility","hidden");this.icon&&this.icon.removeClass(f.ROTATE);this.expandedText&&this.expandedText.addClass(f.AOK_HIDDEN);this.collapsedText&&this.collapsedText.removeClass(f.AOK_HIDDEN);this.imageThumbnail.removeClass(f.AOK_HIDDEN);this.isExpanded=!1;var a={dimKey:this.dimKey};"function"===typeof this.rowCallbacks.handleDimensionExpansion&&this.isTwisterCoreInitialized&&this.rowCallbacks.handleDimensionExpansion(a,this.showSlot,!1);this.autoNotificationExpanded.addClass(f.AOK_HIDDEN);
if(this.expanderHeader){var a=this.stringTranslationMap?this.stringTranslationMap.expanderHeaderAriaLabel:"",b=this.title.getData(),a=a.replace("###dimension",b.mainText).replace("###value",b.subText),a=a+" "+(this.stringTranslationMap?this.stringTranslationMap.tapToExpand:"");this.expanderHeader.attr("aria-label",a);this.expanderHeader.find(q.DIMENSION_EXPANDER_ICON_WRAPPER).attr("aria-label",a)}},setUserInteracting:function(a){this.toggleSwatch&&this.toggleSwatch.setUserInteracting(a)},setExpanderHeaderAriaLabel:function(a,
b){a=this.expanderHeader.attr("aria-label").replace(a.subText,b.subText);this.expanderHeader.attr("aria-label",a);this.expanderHeader.find(q.DIMENSION_EXPANDER_ICON_WRAPPER).attr("aria-label",a)},setThumbnailImage:function(a){(a=k.getThumbnailImageUrlForPhysicalId(a))&&this.imageThumbnail.attr("src",a)},setAutoUpdated:function(a){this.markAutoUpdated=a;this.toggleSwatch&&this.toggleSwatch.setAutoUpdated(a)},getInitialVisibleSwatchList:function(){return this.toggleSwatch?this.toggleSwatch.getInitialVisibleSwatchList():
{}},getSwatch:function(a){return this.toggleSwatch?this.toggleSwatch.getSwatch(a):{}},activatePageRefresh:function(){this.toggleSwatch&&this.toggleSwatch.activatePageRefresh()},showSideSheetLink:function(){this.sideSheetLink.removeClass("aok-hidden")},hideSideSheetLink:function(){this.sideSheetLink.addClass("aok-hidden")},setMaxHeight:function(a){this.expanderContent.css("max-height",a)},triggerExpandOrCollapseAnimation:function(a,b,d){var c=this;this.expanderContent.animate({"max-height":a+"px"},
b,function(){c.setMaxHeight("");d&&d()})},getDisplaySwatches:function(){return this.toggleSwatch?this.toggleSwatch.displaySwatches:[]},createDisplaySwatches:function(){this.toggleSwatch&&this.toggleSwatch.createDisplaySwatches()},hideAutoNotification:function(){this.autoNotificationExpanded.addClass(f.AOK_HIDDEN)},initializeComponents:function(a,b,f){if(!this.toggleSwatch&&a){var c=this.title.getData();this.toggleSwatch=new d(a,{windowResizeCallback:f.handleWindowResize,autoNotificationCallback:this.autoNotificationCallback},
this.domNode,c.mainText)}this.isTextSwatch=a?a.isTextSwatch:!0;this.rowCallbacks=e.extend(this.rowCallbacks,f);this.totalSwatchCount=a?a.totalSwatchCount:0;this.showSlot=b;var k=this;e.declarative("open-desktop-configurator-side-sheet:"+this.dimKey,"click",function(){"function"===typeof k.rowCallbacks.showSideSheet&&k.isTwisterCoreInitialized&&(k.rowCallbacks.showSideSheet(k.dimKey,k.showSlot,k.title.getData()),k.hideAutoNotification())})},postInitialize:function(){this.isTwisterCoreInitialized=!0;
var a={dimKey:this.dimKey};this.toggleSwatch&&this.toggleSwatch.removeInitiallyHiddenSwatches();this.isExpanded&&this.rowCallbacks.handleDimensionExpansion(a,this.showSlot,!0)}};return b}(h,k,x);return{Swatch:C,ToggleSwatch:x,Title:k,Row:w,utils:h}});"use strict";y.when("A","detail-page-side-sheet-handlers").register("detail-page-side-sheet",function(e,h){function l(e){var l=e.id&&"string"===typeof e.id,p=1===C("#"+e.id).length;if(l&&p)this.id=e.id,this.shouldRenderHTMLString=!!e.shouldRenderHTMLString,
this.animationDuration=e.animationDuration||300,this.container=h.getContainer(e.id),this.onBeforeShow=e.onBeforeShow,this.onAfterHide=e.onAfterHide,l=e.width||580,(p=this.container)&&p.width(l),v(e.id,l),f.call(this);else throw e="Side sheet initialisation failed: "+(l?"Side sheet not present in DOM, or multiple instances of side sheet ID "+e.id+" exist":"Invalid Side sheet ID"),y.log(e,"ERROR","DetailPageSideSheet"),e;}function q(e){var f=this.container;e=this.shouldRenderHTMLString?C(e):C(e).clone();
f.html(e);e.css("display","block");f.removeClass("aok-hidden")}function f(){var f=this;e.declarative("close-detail-page-side-sheet:"+this.id,"click",function(){f.close()});e.declarative("open-detail-page-side-sheet:"+this.id,"click",function(e){f.open(e&&e.data?e.data.content:null)})}function p(e){e.code&&"escape"===e.code.toLowerCase()&&(this.close(),document&&document.removeEventListener("keydown",x))}function v(e,f){e=C("#"+e+"-background .close-button");e.length&&(e[0].style.marginRight=f+10+
"px")}var C=e.$,x=null;l.prototype={open:function(e){if(e&&"string"===typeof e){q.call(this,e);if(this.onBeforeShow)this.onBeforeShow();h.showSideSheet(this.id,this.animationDuration);x=p.bind(this);document&&document.addEventListener("keydown",x)}else y.log("Invalid side sheet content. Side sheet ID: "+this.id,"ERROR","DetailPageSideSheet")},close:function(){h.closeSideSheet(this.id,this.animationDuration);h.resetSideSheetContainer(this.container);if(this.onAfterHide)this.onAfterHide()},updateWidth:function(e){var f=
this.container;f&&f.width(e);v(this.id,e)},updateContent:function(e){e&&"string"===typeof e?q.call(this,e):y.log("Invalid side sheet content. Side sheet ID: "+this.id,"ERROR","DetailPageSideSheet")}};return l});"use strict";y.when("A").register("detail-page-side-sheet-handlers",function(e){function h(e,h){f("#"+e+" .detail-page-side-sheet-content").show(function(){q({right:"0px"},e,h)})}function l(e,h){f("#"+e+" .detail-page-side-sheet-content").show(function(){q({right:"-600px"},e,h)})}function q(h,
l,q){e.animate(f("#"+l+" .detail-page-side-sheet-content"),h,q)}var f=e.$;return{showSideSheet:function(e,l){f("body").css("overflow","hidden");f(".detail-page-side-sheet-darken-bg").removeClass("aok-hidden");f("#"+e).removeClass("aok-hidden");h(e,l)},closeSideSheet:function(e,h){l(e,h);f(".detail-page-side-sheet-darken-bg").addClass("aok-hidden");f("#"+e).addClass("aok-hidden");f("body").css("overflow","scroll")},getContainer:function(e){return f("#"+e).find(".detail-page-side-sheet-content")},resetSideSheetContainer:function(e){e.html("")}}})});